{"version":3,"file":"static/js/335.5a93ba46.chunk.js","mappings":"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","sources":["components/Login.js","components/validation/AnimateError.js","components/validation/EmailValid.js","../javascript/esm|C:/sujan_personal/new/front/node_modules/@babel/runtime/helpers/esm/defineProperty.js","../javascript/esm|C:/sujan_personal/new/front/node_modules/@babel/runtime/helpers/esm/objectSpread2.js"],"sourcesContent":["import React, { useState, useEffect, useContext } from 'react';\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport axios from 'axios';\r\nimport ValidateEmail from './validation/EmailValid';\r\nimport AnimateError from './validation/AnimateError';\r\n\r\nimport { UserContext } from \"../App\";\r\n\r\nexport default function Login() {\r\n    const {state, dispatch} = useContext(UserContext);\r\n    let navigate = useNavigate();\r\n    const [disable, setDisable] = useState(false);\r\n    const [srvErr, setSrvErr] = useState([]);\r\n    const [password, setPassword] = useState('');\r\n    const [email, setEmail] = useState('');\r\n    const [errors, setErrors] = useState({\r\n        password: '',\r\n        email: ''\r\n    });\r\n    useEffect(() => {\r\n        let token = localStorage.getItem(\"token\");\r\n        if(state || token) {\r\n            navigate(\"/\");\r\n        }\r\n    }, []);\r\n    const logSubmit = (e) => {\r\n        e.preventDefault();\r\n        let errorCount = 0;\r\n        if(email === '') {\r\n            errorCount++;\r\n            setErrors((prevState)=> {\r\n                return {...prevState, email: 'Email is Required'}\r\n            });\r\n            AnimateError();\r\n        } else if(ValidateEmail(email)){\r\n            errorCount++;\r\n            setErrors((prevState)=> {\r\n                return {...prevState, email: 'Email ID not valid'}\r\n            });\r\n            AnimateError();\r\n        } else {\r\n            setErrors((prevState)=> {\r\n                return {...prevState, email: ''}\r\n            });\r\n        }if(password === '') {\r\n            errorCount++;\r\n            setErrors((prevState)=> {\r\n                return {...prevState, password: 'Password is Required'}\r\n            });\r\n            AnimateError();\r\n        } else {\r\n            setErrors((prevState)=> {\r\n                return {...prevState, password: ''}\r\n            });\r\n        }\r\n        if(errorCount === 0) {\r\n            setSrvErr(\"\");\r\n            setDisable(true);\r\n            let logData = {email, password}\r\n            axios.post('api/login', logData, {\r\n                headers: {\r\n                    \"Content-Type\" : \"application/json\"\r\n                }\r\n            })\r\n            .then(function (response) {\r\n                localStorage.setItem(\"token\", \"Bearer \" + response.data.token);\r\n                dispatch({type:\"USER\", payload:true});\r\n                navigate(\"/dashboard\");\r\n            })\r\n            .catch(function (error) {\r\n                if(error.response.data[0].msg === \"Use a valid Email Address\") {\r\n                    errorCount++;\r\n                    setErrors((prevState)=> {\r\n                        return {...prevState, email: 'Use a valid Email Address'}\r\n                    });\r\n                    AnimateError();\r\n                    setDisable(false);\r\n                } else {\r\n                    setSrvErr(error.response.data);\r\n                    setDisable(false);\r\n                }\r\n            });\r\n        }\r\n    }\r\n    return (\r\n        <>\r\n            <form className=\"auth_form contact-form\" autoComplete=\"off\" onSubmit={logSubmit}>\r\n                <div className=\"row\">\r\n                    <div className=\"col-sm-12\">\r\n                        <div className=\"form_wr_input\">\r\n                            <input className=\"form_input_style\" value={email} onChange={(e)=>setEmail(e.target.value)} type=\"text\" placeholder=\"E-mail\" />\r\n                            <span className=\"form_err\">{errors.email}</span>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"col-sm-12\">\r\n                        <div className=\"form_wr_input\">\r\n                            <input className=\"form_input_style\" value={password} onChange={(e)=>setPassword(e.target.value)} type=\"password\" placeholder=\"Password\" />\r\n                            <span className=\"form_err\">{errors.password}</span>\r\n                        </div>\r\n                        <button className=\"site-btn sb-big\" disabled={disable}>Login</button>\r\n                    </div>\r\n                    <div className=\"col-sm-12 server_error\">\r\n                        {srvErr && srvErr.map(err =>\r\n                            <div key={err.msg} className=\"form_err\">{err.msg}</div>\r\n                        )}\r\n                    </div>\r\n                </div>\r\n                {/* <div className=\"either_quote\"><span>OR</span></div>\r\n                <div className=\"social_media_wrap\">\r\n                    <img src=\"/img/fb_login.jpg\" alt=\"login fb\" />\r\n                    <div className=\"ht_x\">&nbsp;</div>\r\n                    <img src=\"/img/gg_login.jpg\" alt=\"login fb\" />\r\n                </div> */}\r\n            </form>\r\n        </>\r\n    )\r\n}\r\n","const AnimateError = () => {\r\n    let ErrAnim = document.querySelectorAll(\".form_err\");\r\n    ErrAnim.forEach((el) => {\r\n        el.classList.add('err_animate');\r\n    });\r\n    setTimeout(function() {\r\n        ErrAnim.forEach((el) => {\r\n            el.classList.remove('err_animate');\r\n        });\r\n    }, 410);\r\n}\r\n\r\nexport default AnimateError;","const ValidateEmail = (valEmail) => {\r\n    let validRegex = /^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\\.[a-zA-Z0-9-]+)*$/;\r\n    if (valEmail.match(validRegex)) {\r\n        return false;\r\n    } else {\r\n        return true;\r\n    }\r\n}\r\n\r\nexport default ValidateEmail;","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","import defineProperty from \"./defineProperty.js\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    enumerableOnly && (symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    })), keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nexport default function _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = null != arguments[i] ? arguments[i] : {};\n    i % 2 ? ownKeys(Object(source), !0).forEach(function (key) {\n      defineProperty(target, key, source[key]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) {\n      Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n    });\n  }\n\n  return target;\n}"],"names":["Login","useContext","UserContext","state","dispatch","navigate","useNavigate","useState","disable","setDisable","srvErr","setSrvErr","password","setPassword","email","setEmail","errors","setErrors","useEffect","token","localStorage","getItem","className","autoComplete","onSubmit","e","preventDefault","errorCount","prevState","AnimateError","ValidateEmail","logData","axios","headers","then","response","setItem","data","type","payload","catch","error","msg","value","onChange","target","placeholder","disabled","map","err","ErrAnim","document","querySelectorAll","forEach","el","classList","add","setTimeout","remove","valEmail","match","_defineProperty","obj","key","Object","defineProperty","enumerable","configurable","writable","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","push","apply","_objectSpread2","i","arguments","length","source","getOwnPropertyDescriptors","defineProperties"],"sourceRoot":""}