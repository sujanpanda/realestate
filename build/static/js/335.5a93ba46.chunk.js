"use strict";(self.webpackChunkfront=self.webpackChunkfront||[]).push([[335],{9335:function(e,t,r){r.r(t),r.d(t,{default:function(){return m}});var n=r(1413),a=r(885),s=r(2791),o=r(6871),i=r(4569),c=r.n(i),u=r(9730),l=r(1447),f=r(6197),d=r(184);function m(){var e=(0,s.useContext)(f.S),t=e.state,r=e.dispatch,i=(0,o.s0)(),m=(0,s.useState)(!1),p=(0,a.Z)(m,2),h=p[0],Z=p[1],v=(0,s.useState)([]),b=(0,a.Z)(v,2),j=b[0],g=b[1],w=(0,s.useState)(""),y=(0,a.Z)(w,2),O=y[0],_=y[1],x=(0,s.useState)(""),N=(0,a.Z)(x,2),S=N[0],E=N[1],P=(0,s.useState)({password:"",email:""}),k=(0,a.Z)(P,2),C=k[0],A=k[1];(0,s.useEffect)((function(){var e=localStorage.getItem("token");(t||e)&&i("/")}),[]);return(0,d.jsx)(d.Fragment,{children:(0,d.jsx)("form",{className:"auth_form contact-form",autoComplete:"off",onSubmit:function(e){e.preventDefault();var t=0;if(""===S?(t++,A((function(e){return(0,n.Z)((0,n.Z)({},e),{},{email:"Email is Required"})})),(0,l.Z)()):(0,u.Z)(S)?(t++,A((function(e){return(0,n.Z)((0,n.Z)({},e),{},{email:"Email ID not valid"})})),(0,l.Z)()):A((function(e){return(0,n.Z)((0,n.Z)({},e),{},{email:""})})),""===O?(t++,A((function(e){return(0,n.Z)((0,n.Z)({},e),{},{password:"Password is Required"})})),(0,l.Z)()):A((function(e){return(0,n.Z)((0,n.Z)({},e),{},{password:""})})),0===t){g(""),Z(!0);var a={email:S,password:O};c().post("api/login",a,{headers:{"Content-Type":"application/json"}}).then((function(e){localStorage.setItem("token","Bearer "+e.data.token),r({type:"USER",payload:!0}),i("/dashboard")})).catch((function(e){"Use a valid Email Address"===e.response.data[0].msg?(t++,A((function(e){return(0,n.Z)((0,n.Z)({},e),{},{email:"Use a valid Email Address"})})),(0,l.Z)(),Z(!1)):(g(e.response.data),Z(!1))}))}},children:(0,d.jsxs)("div",{className:"row",children:[(0,d.jsx)("div",{className:"col-sm-12",children:(0,d.jsxs)("div",{className:"form_wr_input",children:[(0,d.jsx)("input",{className:"form_input_style",value:S,onChange:function(e){return E(e.target.value)},type:"text",placeholder:"E-mail"}),(0,d.jsx)("span",{className:"form_err",children:C.email})]})}),(0,d.jsxs)("div",{className:"col-sm-12",children:[(0,d.jsxs)("div",{className:"form_wr_input",children:[(0,d.jsx)("input",{className:"form_input_style",value:O,onChange:function(e){return _(e.target.value)},type:"password",placeholder:"Password"}),(0,d.jsx)("span",{className:"form_err",children:C.password})]}),(0,d.jsx)("button",{className:"site-btn sb-big",disabled:h,children:"Login"})]}),(0,d.jsx)("div",{className:"col-sm-12 server_error",children:j&&j.map((function(e){return(0,d.jsx)("div",{className:"form_err",children:e.msg},e.msg)}))})]})})})}},1447:function(e,t){t.Z=function(){var e=document.querySelectorAll(".form_err");e.forEach((function(e){e.classList.add("err_animate")})),setTimeout((function(){e.forEach((function(e){e.classList.remove("err_animate")}))}),410)}},9730:function(e,t){t.Z=function(e){return!e.match(/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/)}},4942:function(e,t,r){function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}r.d(t,{Z:function(){return n}})},1413:function(e,t,r){r.d(t,{Z:function(){return s}});var n=r(4942);function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}}}]);
//# sourceMappingURL=335.5a93ba46.chunk.js.map